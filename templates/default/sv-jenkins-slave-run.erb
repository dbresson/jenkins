#!/bin/sh

#
# This file was generated by Chef.
# Do NOT modify this file by hand.
#

<% groups = ([@options[:new_resource].user, @options[:new_resource].group] + @options[:new_resource].supplementary_groups).join(':') %>
exec 2>&1
cd <%= @options[:new_resource].remote_fs %>
exec chpst -u <%= groups %> \
  env HOME=<%= @options[:new_resource].remote_fs %> \
  JENKINS_HOME=<%= @options[:new_resource].remote_fs %> \
  <%= @options[:java_bin] %> \
<%- if @options[:new_resource].jvm_options -%>
  <%= @options[:new_resource].jvm_options %> \
<%- end -%>
  -jar <%= @options[:slave_jar] %> \
<%- if @options[:jnlp_secret] -%>
  -secret <%= @options[:jnlp_secret] %> \
<%- end -%>
  -jnlpUrl <%= @options[:jnlp_url] %>
